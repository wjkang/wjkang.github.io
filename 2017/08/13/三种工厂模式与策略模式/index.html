<!-- build time:Wed May 15 2019 16:06:15 GMT+0000 (Coordinated Universal Time) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><script>var _hmt=_hmt||[]</script><script async src="//hm.baidu.com/hm.js?d1a1593e59aa081f2f04170bf79d940a"></script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><meta charset="utf-8"><title>三种工厂模式与策略模式 | 若邪</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#3F51B5"><meta name="keywords" content="工厂模式,策略模式"><meta name="description" content="简单工厂模式实现一个功能，假设现在有跑车，越野车，商务车，想要开什么车的时候随时能发车。抽象汽车1234567/// &amp;lt;summary&amp;gt;/// 抽象汽车/// &amp;lt;/summary&amp;gt;public interface ICar&amp;#123;    void Run();&amp;#125;汽车类型枚举123456public enum CarType&amp;#123;    SportCarT"><meta name="keywords" content="工厂模式,策略模式"><meta property="og:type" content="article"><meta property="og:title" content="三种工厂模式与策略模式"><meta property="og:url" content="https://jaycewu.site/2017/08/13/三种工厂模式与策略模式/index.html"><meta property="og:site_name" content="若邪"><meta property="og:description" content="简单工厂模式实现一个功能，假设现在有跑车，越野车，商务车，想要开什么车的时候随时能发车。抽象汽车1234567/// &amp;lt;summary&amp;gt;/// 抽象汽车/// &amp;lt;/summary&amp;gt;public interface ICar&amp;#123;    void Run();&amp;#125;汽车类型枚举123456public enum CarType&amp;#123;    SportCarT"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2019-05-15T16:05:35.704Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="三种工厂模式与策略模式"><meta name="twitter:description" content="简单工厂模式实现一个功能，假设现在有跑车，越野车，商务车，想要开什么车的时候随时能发车。抽象汽车1234567/// &amp;lt;summary&amp;gt;/// 抽象汽车/// &amp;lt;/summary&amp;gt;public interface ICar&amp;#123;    void Run();&amp;#125;汽车类型枚举123456public enum CarType&amp;#123;    SportCarT"><link rel="alternate" type="application/atom+xml" title="若邪" href="/atom.xml"><link rel="shortcut icon" href="/favicon.png"><link rel="stylesheet" href="/css/style.css?v=1.6.10"><script>window.lazyScripts=[]</script></head><body><div id="loading" class="active"></div><aside id="menu"><div class="inner flex-row-vertical"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off"><i class="icon icon-lg icon-close"></i></a><div class="brand-wrap" style="background-image:url(/img/brand.jpg)"><div class="brand"><a href="/" class="avatar waves-effect waves-circle waves-light"><img src="/img/avatar.jpeg"></a><hgroup class="introduce"><h5 class="nickname">若邪</h5><a href="mailto:ruoxieme@gmail.com" title="ruoxieme@gmail.com" class="mail">ruoxieme@gmail.com</a></hgroup></div></div><div class="scroll-wrap flex-col"><ul class="nav"><li class="waves-block waves-effect"><a href="/"><i class="icon icon-lg icon-home"></i> 主页</a></li><li class="waves-block waves-effect"><a href="/archives"><i class="icon icon-lg icon-archives"></i> 归档</a></li><li class="waves-block waves-effect"><a href="/tags"><i class="icon icon-lg icon-tags"></i> 标签</a></li><li class="waves-block waves-effect"><a href="/categories"><i class="icon icon-lg icon-th-list"></i> 分类</a></li><li class="waves-block waves-effect"><a href="https://jaycewu.gitee.io/resume" target="_blank"><i class="icon icon-lg icon-user"></i> 关于</a></li><li class="waves-block waves-effect"><a href="https://github.com/wjkang" target="_blank"><i class="icon icon-lg icon-github"></i> Github</a></li><li class="waves-block waves-effect"><a href="https://juejin.im/user/57bab5a45bbb500063fd28bc" target="_blank"><i class="icon icon-lg icon-dot-circle-o"></i> 掘金</a></li><li class="waves-block waves-effect"><a href="https://segmentfault.com/blog/ruoxie" target="_blank"><i class="icon icon-lg icon-trello"></i> segmentfault</a></li><li class="waves-block waves-effect"><a href="http://www.jianshu.com/u/1e9a94bda7fb" target="_blank"><i class="icon icon-lg icon-rebel"></i> 简书</a></li></ul></div></div></aside><main id="main"><header class="top-header" id="header"><div class="flex-row"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle"><i class="icon icon-lg icon-navicon"></i></a><div class="flex-col header-title ellipsis">三种工厂模式与策略模式</div><div class="search-wrap" id="search-wrap"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back"><i class="icon icon-lg icon-chevron-left"></i> </a><input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search"><i class="icon icon-lg icon-search"></i></a></div><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare"><i class="icon icon-lg icon-share-alt"></i></a></div></header><header class="content-header post-header"><div class="container fade-scale"><h1 class="title">三种工厂模式与策略模式</h1><h5 class="subtitle"><time datetime="2017-08-13T00:00:00.000Z" itemprop="datePublished" class="page-time">2017-08-13</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/后端/">后端</a></li></ul></h5></div></header><div class="container body-wrap"><aside class="post-widget"><nav class="post-toc-wrap" id="post-toc"><h4>TOC</h4><ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#简单工厂模式"><span class="post-toc-number">1.</span> <span class="post-toc-text">简单工厂模式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#工厂方法模式"><span class="post-toc-number">2.</span> <span class="post-toc-text">工厂方法模式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#抽象工厂模式"><span class="post-toc-number">3.</span> <span class="post-toc-text">抽象工厂模式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#策略模式"><span class="post-toc-number">4.</span> <span class="post-toc-text">策略模式</span></a></li></ol></nav></aside><article id="post-三种工厂模式与策略模式" class="post-article article-type-post fade" itemprop="blogPost"><div class="post-card"><h1 class="post-card-title">三种工厂模式与策略模式</h1><div class="post-meta"><time class="post-time" title="2017-08-13 00:00:00" datetime="2017-08-13T00:00:00.000Z" itemprop="datePublished">2017-08-13</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/后端/">后端</a></li></ul><span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none"><i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span></span></div><div class="post-content" id="post-content" itemprop="postContent"><h3 id="简单工厂模式"><a href="#简单工厂模式" class="headerlink" title="简单工厂模式"></a>简单工厂模式</h3><p>实现一个功能，假设现在有跑车，越野车，商务车，想要开什么车的时候随时能发车。</p><p>抽象汽车<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 抽象汽车</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICar</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>汽车类型枚举<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> CarType</span><br><span class="line">&#123;</span><br><span class="line">    SportCarType = <span class="number">0</span>,</span><br><span class="line">    JeepCarType = <span class="number">1</span>,</span><br><span class="line">    BusinessCarType = <span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>各种类型汽车实现<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 跑车</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SportCar</span> : <span class="title">ICar</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">"跑车发车"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 越野车</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">JeepCar</span> : <span class="title">ICar</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">"越野车发车"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 商务车</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span>  <span class="title">BusinessCar</span> : <span class="title">ICar</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">"商务车发车"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>工厂类<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Factory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ICar <span class="title">GetCar</span>(<span class="params">CarType carType</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">switch</span> (carType)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> CarType.SportCarType:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> SportCar();</span><br><span class="line">            <span class="keyword">case</span> CarType.JeepCarType:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> JeepCar();</span><br><span class="line">            <span class="keyword">case</span> CarType.BusinessCarType:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> BusinessCar();</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"翻车！"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>调用<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        ICar car;</span><br><span class="line">        Factory factory = <span class="keyword">new</span> Factory();</span><br><span class="line">        Console.WriteLine(<span class="string">"老司机跑车发车"</span>);</span><br><span class="line">        car = factory.GetCar(CarType.SportCarType);</span><br><span class="line">        car.Run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>优点：简单工厂模式能够根据外界给定的信息，决定究竟应该创建哪个具体类的对象。当要新增一个汽车类型的时候，只要实现指定接口就可以，符合开发关闭原则。</p><p>缺点：很明显工厂类集中了所有实例的创建逻辑，当要加车类型的时候需要修改工厂类源码，违背开放关闭原则。</p><h3 id="工厂方法模式"><a href="#工厂方法模式" class="headerlink" title="工厂方法模式"></a>工厂方法模式</h3><p>简单工厂的例子中，可以把工厂类看成汽车仓库，里面是已经生产好的汽车，想要什么类型的汽车，只要是已经生产好的就可以得到。</p><p>现在我们想要开大卡车，但是仓库里没有，怎么办呢?</p><p>我们换个高级点的仓库，一个可以生产大卡车的仓库，而且有很多这种仓库，每个仓库生产指定类型的汽车。</p><p>抽象高级仓库<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">ICar <span class="title">CreateCar</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>抽象汽车<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 抽象汽车</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICar</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>各种类型汽车实现<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 跑车</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SportCar</span> : <span class="title">ICar</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">"跑车发车"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 越野车</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">JeepCar</span> : <span class="title">ICar</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">"越野车发车"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 商务车</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span>  <span class="title">BusinessCar</span> : <span class="title">ICar</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">"商务车发车"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 卡车</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span>  <span class="title">Truck</span> : <span class="title">ICar</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">"卡车发车"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>具体高级仓库<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span>  跑车仓库</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SportFactory</span> : <span class="title">IFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ICar <span class="title">CreateCar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> SportCar();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span>  越野车仓库</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">JeepFactory</span> : <span class="title">IFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ICar <span class="title">CreateCar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> JeepCar();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span>  商务车仓库</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BusinessCarFactory</span> : <span class="title">IFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ICar <span class="title">CreateCar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BusinessCarCar();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span>  卡车仓库</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TruckFactory</span> : <span class="title">IFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ICar <span class="title">CreateCar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Truck();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>调用<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            IFactory factory = <span class="keyword">new</span> TruckFactory();</span><br><span class="line">            ICar truck = factory.CreateCar();</span><br><span class="line">            truck.Run();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p></p><p>通过工厂方法模式，只要实现ICar接口，就可以创建一种新的类型的汽车，然后通过实现IFactory接口，创建一个可以生产这种新类型汽车的工厂。使用的时候，new一个新的工厂，就可以生产新类型的车了。</p><h3 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h3><p>汽车不仅有不同类型了，还有不同品牌的，比如跑车类型，有劳斯莱斯的,有宾利的，有迈凯伦的。。。假设，现在我们想开劳斯莱斯的跑车，我们的仓库怎么给我们车呢？或者说我们怎么从仓库把我们想要开的车拿到呢？工厂方法模式中我们通过实现仓库的多态，创建了很多可以具体生产某种类型汽车的工厂。</p><p>现在通过实现汽车类型多态，具体的仓库（工厂）可以生产特定品牌不同类型的汽车，比如某个车库（工厂）可以生产宾利的跑车，商务车，越野车，卡车（滑稽）。</p><p>抽象汽车<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 抽象汽车</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICar</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>抽象汽车类型<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 抽象跑车类型</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ISportCar</span>:<span class="title">ICar</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="comment">//具体品牌名称</span></span><br><span class="line">     <span class="keyword">string</span> Name&#123;<span class="keyword">get</span>;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//越野车，商务车类型类似（而且这里用抽象类更加合适）</span></span><br></pre></td></tr></table></figure><p></p><p>具体品牌的汽车类型<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 劳斯莱斯跑车</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RollsRoyceSportCar</span>:<span class="title">ISportCar</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="comment">//具体品牌名称</span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">string</span> Name</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="keyword">get</span>&#123;<span class="keyword">return</span> <span class="string">"劳斯莱斯"</span>;&#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        Console.WriteLine(<span class="keyword">this</span>.Name+<span class="string">"跑车发车"</span>);</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 宾利跑车</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BentleySportCar</span>:<span class="title">ISportCar</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="comment">//具体品牌名称</span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">string</span> Name</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="keyword">get</span>&#123;<span class="keyword">return</span> <span class="string">"宾利"</span>;&#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Run</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        Console.WriteLine(<span class="keyword">this</span>.Name+<span class="string">"跑车发车"</span>);</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="comment">//越野车，商务车类型类似</span></span><br></pre></td></tr></table></figure><p></p><p>抽象车库（工厂）</p><p>之前每个生产具体类型汽车的仓库（工厂）只要返回具体类型（实现ICar的汽车类）的汽车就可以，但是现在返回特定品牌的具体类型的汽车<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">ISportCar <span class="title">CreateSportCar</span>(<span class="params"></span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">IJeepCar <span class="title">CreateJeepCar</span>(<span class="params"></span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">IJeepCar <span class="title">CreateJeepCar</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>具体工厂<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span>  宾利工厂</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BentleyFactory</span> : <span class="title">IFactory</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ISportCar <span class="title">CreateSportCar</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BentleySportCar();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IJeepCar <span class="title">CreateJeepCar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BentleyJeepCar();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//其它工厂类似</span></span><br></pre></td></tr></table></figure><p></p><p>调用<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">//开宾利跑车</span></span><br><span class="line">            IFactory factory = <span class="keyword">new</span> BentleyFactory();</span><br><span class="line">            ISportCar bentleySportCar = factory.CreateSportCar();</span><br><span class="line">            bentleySportCar.Run();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p></p><p>当我们要新增一个新的类型的汽车，只要加一个继承ICar接口的新类型接口，然后在新类型下创建（实现新类型接口）具体品牌的汽车。但是要修改抽象工厂的源码，然后每个具体工厂的源码也要修改。在现有类型的车下新增品牌就很容易</p><p>使用简单工厂减少具体工厂的数量，这样就可以不用去修改具体工厂的源码<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Factory</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> ISportCar <span class="title">CreateSportCar</span>(<span class="params"><span class="keyword">string</span> name</span>)</span></span><br><span class="line"><span class="function"></span>     &#123;</span><br><span class="line">            <span class="keyword">if</span>(name==<span class="string">"Bentley"</span>)</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="keyword">new</span> BentleySportCar();</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(name==<span class="string">"RollsRoyce"</span>)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="function">retutn new <span class="title">RollsRoyceSportCar</span>(<span class="params"></span>)</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           ...</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> IJeepCar <span class="title">CreateJeepCar</span>(<span class="params"><span class="keyword">string</span> name</span>)</span></span><br><span class="line"><span class="function"></span>     &#123;</span><br><span class="line">            <span class="keyword">if</span>(name==<span class="string">"Bentley"</span>)</span><br><span class="line">            &#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="keyword">new</span> BentleyJeepCar();</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span>(name==<span class="string">"RollsRoyce"</span>)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="function">retutn new <span class="title">RollsRoyceJeepCar</span>(<span class="params"></span>)</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           ...</span><br><span class="line">     &#125;</span><br><span class="line">     ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>调用<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">//开宾利跑车</span></span><br><span class="line">            Factory factory = <span class="keyword">new</span> Factory();</span><br><span class="line">            ISportCar bentleySportCar = factory.CreateSportCar(<span class="string">"Bentley"</span>);</span><br><span class="line">            bentleySportCar.Run();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p></p><p>还有更加方便的方法就是使用反射</p><h3 id="策略模式"><a href="#策略模式" class="headerlink" title="策略模式"></a>策略模式</h3><p>工厂模式是从工厂里new一个服务对象出来给客户使用，策略模式是客户注入一个具体实例对象给工厂以使用工厂提供的服务</p><p>将上面的工厂改造一下<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Factory</span></span><br><span class="line">   &#123;</span><br><span class="line">        <span class="keyword">private</span> ISportCar sportCar;</span><br><span class="line">        <span class="keyword">private</span> IJeepCar jeepCar;</span><br><span class="line">        ...</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">CreateSportCar</span>(<span class="params">ISportCar sportCar</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">           <span class="keyword">this</span>.sportCar=sportCar;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">CreateJeepCar</span>(<span class="params">IJeepCar jeepCar</span>)</span></span><br><span class="line"><span class="function"></span>          &#123;</span><br><span class="line">             <span class="keyword">this</span>.jeepCar=jeepCar;</span><br><span class="line">          &#125;</span><br><span class="line">        ...</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SportCarRun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        &#123;</span><br><span class="line">           <span class="keyword">this</span>.sportCar.Run();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">JeepCarRun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          &#123;</span><br><span class="line">             <span class="keyword">this</span>.jeepCar.Run();</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p></p><p>调用<br></p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">//开宾利跑车</span></span><br><span class="line">            ISportCar bentleySportCar = <span class="keyword">new</span> BentleySportCar();</span><br><span class="line">            Factory factory=<span class="keyword">new</span> Factory();</span><br><span class="line">            factory.CreateSportCar(bentleySportCar);</span><br><span class="line">            factory.SportCarRun();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p></p><p>可能会因为注入的具体实现不同而得到不同的服务功能;</p></div><blockquote class="post-copyright"><div class="content"></div><footer><a href="https://jaycewu.site"><img src="/img/avatar.jpeg" alt="若邪"> 若邪</a></footer></blockquote><div class="post-footer"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/工厂模式/">工厂模式</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/策略模式/">策略模式</a></li></ul><div class="page-share-wrap"><div class="page-share" id="pageShare"><ul class="reset share-icons"><li><a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://jaycewu.site/2017/08/13/三种工厂模式与策略模式/&title=《三种工厂模式与策略模式》 — 若邪&pic=https://jaycewu.site/img/avatar.jpeg" data-title="微博"><i class="icon icon-weibo"></i></a></li><li><a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"><i class="icon icon-weixin"></i></a></li><li><a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://jaycewu.site/2017/08/13/三种工厂模式与策略模式/&title=《三种工厂模式与策略模式》 — 若邪&source=" data-title=" QQ"><i class="icon icon-qq"></i></a></li><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jaycewu.site/2017/08/13/三种工厂模式与策略模式/" data-title=" Facebook"><i class="icon icon-facebook"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《三种工厂模式与策略模式》 — 若邪&url=https://jaycewu.site/2017/08/13/三种工厂模式与策略模式/&via=https://jaycewu.site" data-title=" Twitter"><i class="icon icon-twitter"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://jaycewu.site/2017/08/13/三种工厂模式与策略模式/" data-title=" Google+"><i class="icon icon-google-plus"></i></a></li></ul></div><a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle"><i class="icon icon-share-alt icon-lg"></i></a></div></div></div><nav class="post-nav flex-row flex-justify-between"><div class="waves-block waves-effect prev"><a href="/2017/10/25/利用AOP实现SqlSugar自动事务/" id="post-prev" class="post-nav-link"><div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div><h4 class="title">利用AOP实现SqlSugar自动事务</h4></a></div><div class="waves-block waves-effect next"><a href="/2017/08/01/学习依赖注入与控制反转/" id="post-next" class="post-nav-link"><div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div><h4 class="title">学习依赖注入与控制反转</h4></a></div></nav><section class="comments" id="comments"><div id="gitment_thread"></div><link rel="stylesheet" href="/css/gitalk.css?v=1.6.10"><script src="/js/gitalk.min.js?v=1.6.10"></script><script>var gitalk=new Gitalk({clientID:"f982ac953ab75a652b3a",clientSecret:"e2c4cd9eefa872763864a42f4944ce5ef200da4b",repo:"jaycewu.site",owner:"wjkang",admin:["wjkang"],distractionFreeMode:!0,createIssueManually:!0});gitalk.render("gitment_thread")</script></section></article></div><footer class="footer"><div class="top"><p><span id="busuanzi_container_site_uv" style="display:none">站点总访客数：<span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" style="display:none">站点总访问量：<span id="busuanzi_value_site_pv"></span></span></p><p><span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span> <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span></p></div><div class="bottom"><p><span>若邪 &copy; 2015 - 2019</span> <span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a> </span><span class="hosted" style="display:none">Hosted by <a href="https://coding.net" target="_blank">Coding Pages</a></span></p></div></footer></main><div class="mask" id="mask"></div><a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a><div class="global-share" id="globalShare"><ul class="reset share-icons"><li><a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://jaycewu.site/2017/08/13/三种工厂模式与策略模式/&title=《三种工厂模式与策略模式》 — 若邪&pic=https://jaycewu.site/img/avatar.jpeg" data-title="微博"><i class="icon icon-weibo"></i></a></li><li><a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"><i class="icon icon-weixin"></i></a></li><li><a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://jaycewu.site/2017/08/13/三种工厂模式与策略模式/&title=《三种工厂模式与策略模式》 — 若邪&source=" data-title=" QQ"><i class="icon icon-qq"></i></a></li><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jaycewu.site/2017/08/13/三种工厂模式与策略模式/" data-title=" Facebook"><i class="icon icon-facebook"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《三种工厂模式与策略模式》 — 若邪&url=https://jaycewu.site/2017/08/13/三种工厂模式与策略模式/&via=https://jaycewu.site" data-title=" Twitter"><i class="icon icon-twitter"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://jaycewu.site/2017/08/13/三种工厂模式与策略模式/" data-title=" Google+"><i class="icon icon-google-plus"></i></a></li></ul></div><div class="page-modal wx-share" id="wxShare"><a class="close" href="javascript:;"><i class="icon icon-close"></i></a><p>扫一扫，分享到微信</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACsUlEQVR42u3a0W7jMAwEwP7/T/eAe72zsktJSQuMn4LEkDUuILIkv77i6/vvlfz6/c916vv1HrYuPDw8vNHW18sln5M7nza6fmKy2uMrwMPDw7vGa4/79ijPqe1qLyx4eHh4H+Ul1Kc71+skO8HDw8P7jbzZY5I0euc14eHh4X2K16bL+ffrZ+Uh4XqtBQ8PDy/mtQ2wn/D5Yn8PDw8Pb6Ornhdb28N9HTbWaXSxWzw8PLwLvKRJP0tw88T61MqPYQMPDw/vKC8/mpN0Nnlknjq3v/7nfjw8PLwLvGSL643O0uXbxRE8PDy89/B2hgOSF1S/6TIFr7t8eHh4eBu8s2luu9qsxVWEGTw8PLwLvLbkuh9I8tVmSTYeHh7ebd4s/W1T4fw17YQcPDw8vNu8Wco7G8xqg0Ebch5nyvDw8PCO8vYbTrNAMmuzzYrFeHh4eDd4s6T2VBqdFziSX+sN4eHh4V3gJQl3m44nT28TZTw8PLx38mbjTXnY2Cl55Hur/5J4eHh4I17bWBp22Mr728bb4yvGw8PDu8A7tdy9KvKsYIGHh4d3m5cvmpdi9wsZeaCqxwXw8PDwtrPNvFiQh42d1WbPfTE0gIeHh3eI1w5R3RgmaCvNbbsODw8P7yzv1DGdFzWSIsXOwMHWNBkeHh5ezDt7fOfl3VkwKLJlPDw8vAu89vCdnbezFHnWJIvmI/Dw8PA2eHniu/M5L22cHS/Aw8PDu81rm0/t4/NiRFvOiAIDHh4e3iFefuWNrp3PswQdDw8P7/282dL5EZ+XfWcF4heBBw8PD+8ar67+joa0WthOMRcPDw/vJ/Da9tis0bVTtngxeoWHh4f3UV7RiBoFg3Y860BKjYeHh1fy2qZXEhLaILG+M4fh4eHh3ebN/tXfHzhoj/4cXF94eHh4Ke8PW/Z+4x+C+LkAAAAASUVORK5CYII=" alt="微信分享二维码"></div><script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script><script src="http://v2.uyan.cc/code/uyan.js?uid=false"></script><script>var BLOG={ROOT:"/",SHARE:!0,REWARD:!1};lazyScripts.push("//s95.cnzz.com/z_stat.php?id=1262842552&web_id=1262842552"),window.addEventListener("DOMContentLoaded",function(){location.href.indexOf("jaycewu.site")>-1&&(document.querySelector(".hosted").style.display="inline")})</script><script src="/js/main.min.js?v=1.6.10"></script><div class="search-panel" id="search-panel"><ul class="search-result" id="search-result"></ul></div><template id="search-tpl"><li class="item"><a href="{path}" class="waves-block waves-effect"><div class="title ellipsis" title="{title}">{title}</div><div class="flex-row flex-middle"><div class="tags ellipsis">{tags}</div><time class="flex-col time">{date}</time></div></a></li></template><script src="/js/search.min.js?v=1.6.10" async></script><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>!function(){var t,e=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="页面崩了！",clearTimeout(t)):(document.title="(つェ⊂)咦!又好了!",t=setTimeout(function(){document.title=e},2e3))})}()</script></body></html><!-- rebuild by neat -->