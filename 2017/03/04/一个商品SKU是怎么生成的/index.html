<!-- build time:Wed May 15 2019 16:06:15 GMT+0000 (Coordinated Universal Time) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><script>var _hmt=_hmt||[]</script><script async src="//hm.baidu.com/hm.js?d1a1593e59aa081f2f04170bf79d940a"></script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><meta charset="utf-8"><title>一个商品SKU是怎么生成的 | 若邪</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#3F51B5"><meta name="keywords" content="sku"><meta name="description" content="首先说一说什么是SKU。。。。。。。自己百度去。。。类似京东上面，未来人类S5这个台笔记本都是S5这个型号，但是因为CPU,显卡，内存，硬盘等不同，价格也不一样。CPU,显卡，内存，硬盘等属性组合成的一个唯一的商品，就可以用一个SKU来表示,像图上就有10个SKU。一系列的SKU可以归到一个SPU下进行管理。那么一个SKU是怎么生成的呢？下面结合自己的一些经验，说说一些电商平台的大致产品结构以及S"><meta name="keywords" content="sku"><meta property="og:type" content="article"><meta property="og:title" content="一个商品SKU是怎么生成的"><meta property="og:url" content="https://jaycewu.site/2017/03/04/一个商品SKU是怎么生成的/index.html"><meta property="og:site_name" content="若邪"><meta property="og:description" content="首先说一说什么是SKU。。。。。。。自己百度去。。。类似京东上面，未来人类S5这个台笔记本都是S5这个型号，但是因为CPU,显卡，内存，硬盘等不同，价格也不一样。CPU,显卡，内存，硬盘等属性组合成的一个唯一的商品，就可以用一个SKU来表示,像图上就有10个SKU。一系列的SKU可以归到一个SPU下进行管理。那么一个SKU是怎么生成的呢？下面结合自己的一些经验，说说一些电商平台的大致产品结构以及S"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-7c81b33ee95b81b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-f229d9a02c3b47db.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-86e5783f51ccd238.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-432f5db22f1abb53.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-02c4fb4b0e3cc8d3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-023a5dc66e83b821.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-6650f4a87748bb03.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-d1108580038850d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-2422c2ed8eea1a79.gif?imageMogr2/auto-orient/strip"><meta property="og:updated_time" content="2019-05-15T16:05:35.704Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="一个商品SKU是怎么生成的"><meta name="twitter:description" content="首先说一说什么是SKU。。。。。。。自己百度去。。。类似京东上面，未来人类S5这个台笔记本都是S5这个型号，但是因为CPU,显卡，内存，硬盘等不同，价格也不一样。CPU,显卡，内存，硬盘等属性组合成的一个唯一的商品，就可以用一个SKU来表示,像图上就有10个SKU。一系列的SKU可以归到一个SPU下进行管理。那么一个SKU是怎么生成的呢？下面结合自己的一些经验，说说一些电商平台的大致产品结构以及S"><meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/2125695-7c81b33ee95b81b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><link rel="alternate" type="application/atom+xml" title="若邪" href="/atom.xml"><link rel="shortcut icon" href="/favicon.png"><link rel="stylesheet" href="/css/style.css?v=1.6.10"><script>window.lazyScripts=[]</script></head><body><div id="loading" class="active"></div><aside id="menu"><div class="inner flex-row-vertical"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off"><i class="icon icon-lg icon-close"></i></a><div class="brand-wrap" style="background-image:url(/img/brand.jpg)"><div class="brand"><a href="/" class="avatar waves-effect waves-circle waves-light"><img src="/img/avatar.jpeg"></a><hgroup class="introduce"><h5 class="nickname">若邪</h5><a href="mailto:ruoxieme@gmail.com" title="ruoxieme@gmail.com" class="mail">ruoxieme@gmail.com</a></hgroup></div></div><div class="scroll-wrap flex-col"><ul class="nav"><li class="waves-block waves-effect"><a href="/"><i class="icon icon-lg icon-home"></i> 主页</a></li><li class="waves-block waves-effect"><a href="/archives"><i class="icon icon-lg icon-archives"></i> 归档</a></li><li class="waves-block waves-effect"><a href="/tags"><i class="icon icon-lg icon-tags"></i> 标签</a></li><li class="waves-block waves-effect"><a href="/categories"><i class="icon icon-lg icon-th-list"></i> 分类</a></li><li class="waves-block waves-effect"><a href="https://jaycewu.gitee.io/resume" target="_blank"><i class="icon icon-lg icon-user"></i> 关于</a></li><li class="waves-block waves-effect"><a href="https://github.com/wjkang" target="_blank"><i class="icon icon-lg icon-github"></i> Github</a></li><li class="waves-block waves-effect"><a href="https://juejin.im/user/57bab5a45bbb500063fd28bc" target="_blank"><i class="icon icon-lg icon-dot-circle-o"></i> 掘金</a></li><li class="waves-block waves-effect"><a href="https://segmentfault.com/blog/ruoxie" target="_blank"><i class="icon icon-lg icon-trello"></i> segmentfault</a></li><li class="waves-block waves-effect"><a href="http://www.jianshu.com/u/1e9a94bda7fb" target="_blank"><i class="icon icon-lg icon-rebel"></i> 简书</a></li></ul></div></div></aside><main id="main"><header class="top-header" id="header"><div class="flex-row"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle"><i class="icon icon-lg icon-navicon"></i></a><div class="flex-col header-title ellipsis">一个商品SKU是怎么生成的</div><div class="search-wrap" id="search-wrap"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back"><i class="icon icon-lg icon-chevron-left"></i> </a><input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search"><i class="icon icon-lg icon-search"></i></a></div><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare"><i class="icon icon-lg icon-share-alt"></i></a></div></header><header class="content-header post-header"><div class="container fade-scale"><h1 class="title">一个商品SKU是怎么生成的</h1><h5 class="subtitle"><time datetime="2017-03-04T00:00:00.000Z" itemprop="datePublished" class="page-time">2017-03-04</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/前端/">前端</a></li></ul></h5></div></header><div class="container body-wrap"><article id="post-一个商品SKU是怎么生成的" class="post-article article-type-post fade" itemprop="blogPost"><div class="post-card"><h1 class="post-card-title">一个商品SKU是怎么生成的</h1><div class="post-meta"><time class="post-time" title="2017-03-04 00:00:00" datetime="2017-03-04T00:00:00.000Z" itemprop="datePublished">2017-03-04</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/前端/">前端</a></li></ul><span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none"><i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span></span></div><div class="post-content" id="post-content" itemprop="postContent"><p>首先说一说什么是SKU。。。。。。。自己百度去。。。</p><p>类似京东上面，未来人类S5这个台笔记本</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-7c81b33ee95b81b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></div><div class="image-caption"></div></figure><p>都是S5这个型号，但是因为CPU,显卡，内存，硬盘等不同，价格也不一样。CPU,显卡，内存，硬盘等属性组合成的一个唯一的商品，就可以用一个SKU来表示,像图上就有10个SKU。一系列的SKU可以归到一个SPU下进行管理。</p><p>那么一个SKU是怎么生成的呢？下面结合自己的一些经验，说说一些电商平台的大致产品结构以及SKU的生成方式。</p><p>1.阿里速卖通平台,阿里国际站</p><p>这两个平台同一个爸爸，基本差不多。要创建一个商品需要先选一个类目，类目下面挂了一堆的属性，属性上又挂了一堆的属性值。属性分为销售属性和非销售属性（销售属性就是类似颜色，尺寸这些单个SKU独有的，非销售属性就是多个SKU共有的，比如同一个品牌型号“未来人类S5”）。非销售属性有必填和非必填，可以是单选，多选，文本等。销售属性就是构成SKU的关键。比如说有销售属性颜色和尺寸，颜色属性下有很多属性值（红，黄，蓝等等），尺寸（1,2,3,4等等）也是。当颜色选了红，黄，尺寸选了1,2，那么就应该生成2x2=4个SKU，每个SKU有各自的价格，库存等。保存SKU的时候会与对应的销售属性相关联。<br>大致的数据模型如下</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-f229d9a02c3b47db.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></div><div class="image-caption"></div></figure><p>当然，实际比这更加复杂（比如产品的图片，单个SKU的图片，多个SKU共同的图片,非销售属性可以自定义添加分类不具有的。。。）</p><p>2.eBay<br>跟上面两个平台类似，创建一个产品也要先选一个分类，分类下面也是有很多属性，属性有很多属性值。。。，不同的地方是eBay没有区分销售属性和非销售属性（或者说全部是非销售属性），也允许添加自定义属性和属性值。eBay上SKU是手动添加的，SKU上的属性(SKU上的属性暂且都叫做销售属性)也是自定义的。比如说添加了一个SKU A,价格和数量这两个是必须的，还可以手动加个颜色属性，然后填上属性值红色。当然，若果增加一个SKU B，那么这个SKU也会有颜色这个属性，属性值可以自定义。最后校验这些SKU的属性值组合起来是否唯一。</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-86e5783f51ccd238.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></div><div class="image-caption"></div></figure><p>这样的优势就是可以随意控制SKU的数量，如果按照上面两个平台的规则，这里应该有4x4x1=16个SKU。这样自由度更高会不会使结构更加复杂呢？当然是NO，用上面的数据模型就可以搞定</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-432f5db22f1abb53.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></div><div class="image-caption"></div></figure><p>3.Lazada,Linio平台<br>国际惯例，先选一个类目，类目下面一堆属性，有必填和非必填，属性下一堆属性值。最大的区别就是，一个产品只有一个SKU，属性不支持自定义。比如说要添加一个商品，有两种颜色，那么只能创建两个产品，这两个产品可能只有图片不一样（颜色不一样，可能没有颜色这个属性来选）</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-02c4fb4b0e3cc8d3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></div><div class="image-caption"></div></figure><p>4.Wish平台<br>比较奇特，没有分类，产品有固定的属性，比如标题，描述，运费等。一个产品下可以有多个SKU，SKU的生成取决于固定的两大类属性，两个大类为：颜色和尺寸。比如颜色这个属性就是归类于颜色这个类，其他的属性（品牌，型号，容量等等归为尺寸这个大类）。尺寸类的属性值支持自定义，但只能选一个尺寸类属性（比如选了品牌就不能选容量，选了品牌后可以添加任意值）。两类属性不是必须同时存在，比如颜色选了红，可以不选尺寸类的属性，反之也一样。</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-023a5dc66e83b821.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></div><div class="image-caption"></div></figure><p>忘记说了，一个SKU是靠一串唯一编码来标识的，比如1234A，1234B。一般来说一个平台下不会存在两个相同的SKU，或这一个店铺下不会存在两个相同的SKU。</p><p>大致的逻辑和数据模型就这些，接下来说说开发实现方面。</p><p>数据库大致就依靠上面的数据模型进行设计，编辑的时候，后端按照这些关联关系取出数据给到前端（我这边前后端未分离，页面还是后端渲染，但我还是把数据格式化为JSON再渲染到前端），保存的时候再进行相关的逻辑校验。因为后端的一些逻辑操作涉及后公司内部的业务，这里就不细说了。说说前端的具体细节，以速卖通的为例，用的是vue，前端拿到的数据如下</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-6650f4a87748bb03.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="属性数据，(变量properties)"></div><div class="image-caption">属性数据，(变量properties)</div></figure><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-d1108580038850d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="sku数据（变量skus）"></div><div class="image-caption">sku数据（变量skus）</div></figure><p>实现后的粗糙界面</p><p><img src="http://upload-images.jianshu.io/upload_images/2125695-2422c2ed8eea1a79.gif?imageMogr2/auto-orient/strip" alt></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data:&#123;</span><br><span class="line">            properties: properties,</span><br><span class="line">            skus: skus</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>遍历properties，得到材质，颜色，发货地，套餐这些属性对象，接着遍历这些对象里的values属性,得到属性值对象,根据属性对象的selectedValues判断属性值是否选上（因为我是后端渲染的js变量，所以初始化的时候selectedValues里的数据直接引用的属性值对象，如果是非后端渲染的话，要根据skus里的属性和属性值去初始化selectedValues的数据，并且存的是属性值对象的引用）</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">"(index,item) in properties"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>&#123;&#123;item.Name&#125;&#125;：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">v-for</span>=<span class="string">"value in item.values"</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">:value</span>=<span class="string">"value"</span> <span class="attr">v-model</span>=<span class="string">"item.selectedValues"</span>/&gt;</span>&#123;&#123;value.Name&#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"list_table"</span> <span class="attr">v-if</span>=<span class="string">"item.Name!='发货地'&amp;&amp;item.selectedValues.length&gt;0"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>&#123;&#123;item.Name&#125;&#125;<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>自定义名称<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span> <span class="attr">v-if</span>=<span class="string">"item.Name=='颜色'"</span>&gt;</span>图片（无图片可以不填）<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">"selectedValue in item.selectedValues"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;selectedValue.Name&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"selectedValue.DefinitionName"</span> <span class="attr">maxlength</span>=<span class="string">"20"</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">v-if</span>=<span class="string">"item.Name=='颜色'"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"float: left"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span>  <span class="attr">style</span>=<span class="string">"width: 63px;"</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"float: right"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span> <span class="attr">rel</span>=<span class="string">"link"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span></span><br><span class="line">                                ![](selectedValue.ImageUrl)</span><br><span class="line">                            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure><p>因为selectedValues通过v-model绑定，当选中或取消一个属性值的时候后，selectedValues也会随着改变，selectedValues里的数据是直接引用属性值而不是拷贝一份数据，所以修改selectedValues中的数据也会直接反映到属性值上，实现了属性值的自定义。</p><p>那么怎么根据选中的属性值生成SKU呢？<br>SKU表格处的表头是要根据选中的属性动态更新的，可以这样做<br></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">v-for</span>=<span class="string">"item in properties"</span> <span class="attr">v-if</span>=<span class="string">"item.selectedValues.length&gt;0"</span>&gt;</span>&#123;&#123;item.Name&#125;&#125;<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"c_red"</span>&gt;</span>*<span class="tag">&lt;/<span class="name">span</span>&gt;</span>零售价<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"c_red"</span>&gt;</span>*<span class="tag">&lt;/<span class="name">span</span>&gt;</span>库存<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>商品编码<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>如果属性里的属性值都没有被选中（selectedValues.length==0），就不在表头显示这个属性。</p><p>SKU的初始显示<br></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">"sku in skus"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">v-for</span>=<span class="string">"item in properties"</span> <span class="attr">v-if</span>=<span class="string">"item.selectedValues.length&gt;0"</span>&gt;</span>&#123;&#123;getValueName(sku,item)&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>US $<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"sku.SkuPrice"</span> <span class="attr">class</span>=<span class="string">"w50"</span> <span class="attr">maxlength</span>=<span class="string">"9"</span>/&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">name</span>=<span class="string">"productUnitTips"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"sku.StockQuantity"</span> <span class="attr">class</span>=<span class="string">"w50"</span> <span class="attr">maxlength</span>=<span class="string">"9"</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"sku.SkuCode"</span> <span class="attr">class</span>=<span class="string">"w180"</span> <span class="attr">maxlength</span>=<span class="string">"20"</span>/&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>也是利用selectedValues.length让SKU的属性值列数与表头列数保持一致。因为SKU对象里的保存的是属性值Id和属性Id,需要一个方法去获取属性值的值<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">getValueName: <span class="function"><span class="keyword">function</span> (<span class="params">sku, property</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> valueName = <span class="string">""</span>;</span><br><span class="line">                $.each(sku.values,</span><br><span class="line">                        <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                            <span class="keyword">var</span> _this = <span class="keyword">this</span>;</span><br><span class="line">                            <span class="keyword">if</span> (<span class="keyword">this</span>.propertyId == property.Id) &#123;</span><br><span class="line">                                $.each(property.selectedValues, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                                    <span class="keyword">if</span> (_this.valueId == <span class="keyword">this</span>.Id) &#123;</span><br><span class="line">                                        valueName = <span class="keyword">this</span>.Name;</span><br><span class="line">                                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                                    &#125;</span><br><span class="line">                                &#125;);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                <span class="keyword">return</span> valueName;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p></p><p>你没有看错，这是JQ。。。</p><p>接下来就是SKU表格的更新了，我的做法是变更整块区域，就是给skus重新赋值。赋的新值从哪来呢？</p><p>将选中的属性值放到一个数组中<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ori = [];</span><br><span class="line"> $.each(vm.properties,</span><br><span class="line">         <span class="function"><span class="keyword">function</span> (<span class="params">index, item</span>) </span>&#123;</span><br><span class="line">             <span class="keyword">var</span> selectValues = <span class="keyword">this</span>.selectedValues;</span><br><span class="line">             <span class="keyword">if</span> (selectValues.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                 ori.push(selectValues);</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;);</span><br></pre></td></tr></table></figure><p></p><p>得到这种结构的数组<br></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [</span><br><span class="line">    &#123;</span><br><span class="line">      'PropertyId': 10,</span><br><span class="line">      'Id': 477,</span><br><span class="line">      'Name': '铝',</span><br><span class="line">      'DefinitionName': '',</span><br><span class="line">      'ImageUrl': ''</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      'PropertyId': 10,</span><br><span class="line">      'Id': 529,</span><br><span class="line">      'Name': '帆布',</span><br><span class="line">      'DefinitionName': '',</span><br><span class="line">      'ImageUrl': ''</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  [</span><br><span class="line">    &#123;</span><br><span class="line">      'PropertyId': 200000828,</span><br><span class="line">      'Id': 201655809,</span><br><span class="line">      'Name': '壳＋贴膜',</span><br><span class="line">      'DefinitionName': '',</span><br><span class="line">      'ImageUrl': ''</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      'PropertyId': 200000828,</span><br><span class="line">      'Id': 201655810,</span><br><span class="line">      'Name': '壳＋挂绳',</span><br><span class="line">      'DefinitionName': '',</span><br><span class="line">      'ImageUrl': ''</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p></p><p>求笛卡尔积后（后面有求笛卡尔积参考链接）<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ret = descartes(ori);</span><br></pre></td></tr></table></figure><p></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [</span><br><span class="line">    &#123;</span><br><span class="line">      'PropertyId': 10,</span><br><span class="line">      'Id': 477,</span><br><span class="line">      'Name': '铝',</span><br><span class="line">      'DefinitionName': '',</span><br><span class="line">      'ImageUrl': ''</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      'PropertyId': 200000828,</span><br><span class="line">      'Id': 201655809,</span><br><span class="line">      'Name': '壳＋贴膜',</span><br><span class="line">      'DefinitionName': '',</span><br><span class="line">      'ImageUrl': ''</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  [</span><br><span class="line">    &#123;</span><br><span class="line">      'PropertyId': 10,</span><br><span class="line">      'Id': 477,</span><br><span class="line">      'Name': '铝',</span><br><span class="line">      'DefinitionName': '',</span><br><span class="line">      'ImageUrl': ''</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      'PropertyId': 200000828,</span><br><span class="line">      'Id': 201655810,</span><br><span class="line">      'Name': '壳＋挂绳',</span><br><span class="line">      'DefinitionName': '',</span><br><span class="line">      'ImageUrl': ''</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  [</span><br><span class="line">    &#123;</span><br><span class="line">      'PropertyId': 10,</span><br><span class="line">      'Id': 529,</span><br><span class="line">      'Name': '帆布',</span><br><span class="line">      'DefinitionName': '',</span><br><span class="line">      'ImageUrl': ''</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      'PropertyId': 200000828,</span><br><span class="line">      'Id': 201655809,</span><br><span class="line">      'Name': '壳＋贴膜',</span><br><span class="line">      'DefinitionName': '',</span><br><span class="line">      'ImageUrl': ''</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  [</span><br><span class="line">    &#123;</span><br><span class="line">      'PropertyId': 10,</span><br><span class="line">      'Id': 529,</span><br><span class="line">      'Name': '帆布',</span><br><span class="line">      'DefinitionName': '',</span><br><span class="line">      'ImageUrl': ''</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      'PropertyId': 200000828,</span><br><span class="line">      'Id': 201655810,</span><br><span class="line">      'Name': '壳＋挂绳',</span><br><span class="line">      'DefinitionName': '',</span><br><span class="line">      'ImageUrl': ''</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>大前端也用上了算法有木有，这里需要弄明白拿到的是什么数据，需要的是什么数据，然后就去想实现就OK了。<br>想要的数据已经拿到，重新构建skus<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ret.length; i++) &#123;</span><br><span class="line">           <span class="keyword">var</span> sku = &#123;<span class="attr">SkuCode</span>: <span class="string">""</span>, <span class="attr">SkuPrice</span>: <span class="string">""</span>, <span class="attr">StockQuantity</span>: <span class="string">""</span>&#125;;</span><br><span class="line">           sku.values = [];</span><br><span class="line">           $.each(ret[i],</span><br><span class="line">                   <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                       sku.values.push(&#123;<span class="attr">propertyId</span>: <span class="keyword">this</span>.PropertyId, <span class="attr">valueId</span>: <span class="keyword">this</span>.Id&#125;);</span><br><span class="line">                   &#125;);</span><br><span class="line">           vmSkus.push(sku);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p></p><p>到此，更新SKU表格的代码已经实现，数据驱动视图更新，很清晰。但是什么时候去触发这个更新呢（何时去重新构建skus）? 很简单嘛，就是勾选或取消勾选属性值的时候去触发更新操作。勾选或取消勾选我们能直接从selectedValues.length上得到反馈，然后使用vue 的watch就可以实现了。但是selectedValues是properties数组中元素的一个属性，vue的watch是无法用在数组元素的某一个字段上的（至少目前我发现是这样的），那么暴力一点，直接watch整个properties数组并且加上deep:true。这样是可以实现，但是当修改自定义属性的时候也会触发变更（业务会提刀来见的）。</p><p>最终解决方案<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line">            allCheckedLength:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">               <span class="keyword">var</span> length=<span class="number">0</span>;</span><br><span class="line">                $.each(<span class="keyword">this</span>.properties,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    length+=<span class="keyword">this</span>.selectedValues.length;</span><br><span class="line">                &#125;);</span><br><span class="line">               <span class="keyword">return</span> length;</span><br><span class="line">            &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">            <span class="string">'allCheckedLength'</span>: &#123;</span><br><span class="line">                handler: <span class="string">'reBuild'</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>reBuild就是重新构建的方法。</p><p><a href="http://codepen.io/JayceWu/pen/dOxLex" target="_blank" rel="noopener">demo</a></p><p><a href="http://coconut-zhang.iteye.com/blog/1709547" target="_blank" rel="noopener">Java 笛卡尔积算法的简单实现</a><br><a href="http://stackoverflow.com/questions/12303989/cartesian-product-of-multiple-arrays-in-javascript/" target="_blank" rel="noopener">Cartesian product of multiple arrays in JavaScript</a></p></div><blockquote class="post-copyright"><div class="content"></div><footer><a href="https://jaycewu.site"><img src="/img/avatar.jpeg" alt="若邪"> 若邪</a></footer></blockquote><div class="post-footer"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sku/">sku</a></li></ul><div class="page-share-wrap"><div class="page-share" id="pageShare"><ul class="reset share-icons"><li><a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://jaycewu.site/2017/03/04/一个商品SKU是怎么生成的/&title=《一个商品SKU是怎么生成的》 — 若邪&pic=https://jaycewu.site/img/avatar.jpeg" data-title="微博"><i class="icon icon-weibo"></i></a></li><li><a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"><i class="icon icon-weixin"></i></a></li><li><a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://jaycewu.site/2017/03/04/一个商品SKU是怎么生成的/&title=《一个商品SKU是怎么生成的》 — 若邪&source=" data-title=" QQ"><i class="icon icon-qq"></i></a></li><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jaycewu.site/2017/03/04/一个商品SKU是怎么生成的/" data-title=" Facebook"><i class="icon icon-facebook"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《一个商品SKU是怎么生成的》 — 若邪&url=https://jaycewu.site/2017/03/04/一个商品SKU是怎么生成的/&via=https://jaycewu.site" data-title=" Twitter"><i class="icon icon-twitter"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://jaycewu.site/2017/03/04/一个商品SKU是怎么生成的/" data-title=" Google+"><i class="icon icon-google-plus"></i></a></li></ul></div><a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle"><i class="icon icon-share-alt icon-lg"></i></a></div></div></div><nav class="post-nav flex-row flex-justify-between"><div class="waves-block waves-effect prev"><a href="/2017/03/16/CSS中的BFC，外边距折叠，清除浮动/" id="post-prev" class="post-nav-link"><div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div><h4 class="title">CSS中的BFC，外边距折叠，清除浮动</h4></a></div><div class="waves-block waves-effect next"><a href="/2016/12/27/webpack resolve.alias ProvidePlugin externals/" id="post-next" class="post-nav-link"><div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div><h4 class="title">webpack resolve.alias ProvidePlugin externals</h4></a></div></nav><section class="comments" id="comments"><div id="gitment_thread"></div><link rel="stylesheet" href="/css/gitalk.css?v=1.6.10"><script src="/js/gitalk.min.js?v=1.6.10"></script><script>var gitalk=new Gitalk({clientID:"f982ac953ab75a652b3a",clientSecret:"e2c4cd9eefa872763864a42f4944ce5ef200da4b",repo:"jaycewu.site",owner:"wjkang",admin:["wjkang"],distractionFreeMode:!0,createIssueManually:!0});gitalk.render("gitment_thread")</script></section></article></div><footer class="footer"><div class="top"><p><span id="busuanzi_container_site_uv" style="display:none">站点总访客数：<span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" style="display:none">站点总访问量：<span id="busuanzi_value_site_pv"></span></span></p><p><span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span> <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span></p></div><div class="bottom"><p><span>若邪 &copy; 2015 - 2019</span> <span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a> </span><span class="hosted" style="display:none">Hosted by <a href="https://coding.net" target="_blank">Coding Pages</a></span></p></div></footer></main><div class="mask" id="mask"></div><a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a><div class="global-share" id="globalShare"><ul class="reset share-icons"><li><a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://jaycewu.site/2017/03/04/一个商品SKU是怎么生成的/&title=《一个商品SKU是怎么生成的》 — 若邪&pic=https://jaycewu.site/img/avatar.jpeg" data-title="微博"><i class="icon icon-weibo"></i></a></li><li><a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"><i class="icon icon-weixin"></i></a></li><li><a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://jaycewu.site/2017/03/04/一个商品SKU是怎么生成的/&title=《一个商品SKU是怎么生成的》 — 若邪&source=" data-title=" QQ"><i class="icon icon-qq"></i></a></li><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jaycewu.site/2017/03/04/一个商品SKU是怎么生成的/" data-title=" Facebook"><i class="icon icon-facebook"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《一个商品SKU是怎么生成的》 — 若邪&url=https://jaycewu.site/2017/03/04/一个商品SKU是怎么生成的/&via=https://jaycewu.site" data-title=" Twitter"><i class="icon icon-twitter"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://jaycewu.site/2017/03/04/一个商品SKU是怎么生成的/" data-title=" Google+"><i class="icon icon-google-plus"></i></a></li></ul></div><div class="page-modal wx-share" id="wxShare"><a class="close" href="javascript:;"><i class="icon icon-close"></i></a><p>扫一扫，分享到微信</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACuUlEQVR42u3a0WrcQAwF0Pz/T6dQ+lBo1rlXM0pSOH5aNrZ3zgQsWdLbW3y8/z7+/vz8zfMd/r0qP942Djw8PLzR0p9v9/z98xa8giXrSb75ZAvw8PDw1nhtMEjOf17KDJOvGQ8PD+8n8JLlzpaYpMt4eHh4/zsvCRjPyfStrcHDw8P7Ll6S+OYP7rbE0K5hpdaCh4eHt9BF+jmf1/t7eHh4eKOuetv0SlLnJMk+X+ef++Dh4eEt8PKxgLuN/+R32xS5eGPAw8PDO+Cdj1jVj+mgvJtsQbROPDw8vAVe/mPtctvhgxksGmXAw8PDW+PNgsEsyU5S8Nm1LwMDHh4e3lVejpw9rPOltKMARdkCDw8P7xJvVkhtH+L5g76dBKiDAR4eHt4l3my86WRTkmS6HS/44J54eHh4C7zZYFPyk3lC3I5qDQMPHh4e3lVe+2g+X1wbEmZUPDw8vO/i5aNUbSw6H0Qo+nt4eHh4X8KbjV4lzf5ZE679B+Dh4eFt8E6S4LaEMQsqs0CCh4eHt8drU9XzkmseDPJrP1k5Hh4e3lXeeXspT6xnpdu8oPzy/4aHh4e3xstLCXeR51ddizl4eHh4MW9WTs3LBLPib56avzwTDw8Pb5nXFg5mA1izhlnbosPDw8Pb4w1f8str20Xn6X5RgMbDw8O7xGuLC23YSJYyK0NE5+Ph4eEt85LywWygqi3dHpGS/cbDw8O72j+6W9idBY+23VWUVPDw8PCOee/lcbetNWtuDeMeHh4e3iXerfmlNvG9O0yAh4eH9/W8WTDIixcnAaNNuD/4Kx4eHt4aL3/Jn7X88+GtWUniKKbh4eHhrfGSUkJ+5nm+X1Rc8PDw8H4wb1Z+LXp0bcKNh4eHt8bLixFJaWDWTku2JtloPDw8vG3e7I0+ud2sfdUWPoYkPDw8vMkafgFwZl/0y1G3LgAAAABJRU5ErkJggg==" alt="微信分享二维码"></div><script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script><script src="http://v2.uyan.cc/code/uyan.js?uid=false"></script><script>var BLOG={ROOT:"/",SHARE:!0,REWARD:!1};lazyScripts.push("//s95.cnzz.com/z_stat.php?id=1262842552&web_id=1262842552"),window.addEventListener("DOMContentLoaded",function(){location.href.indexOf("jaycewu.site")>-1&&(document.querySelector(".hosted").style.display="inline")})</script><script src="/js/main.min.js?v=1.6.10"></script><div class="search-panel" id="search-panel"><ul class="search-result" id="search-result"></ul></div><template id="search-tpl"><li class="item"><a href="{path}" class="waves-block waves-effect"><div class="title ellipsis" title="{title}">{title}</div><div class="flex-row flex-middle"><div class="tags ellipsis">{tags}</div><time class="flex-col time">{date}</time></div></a></li></template><script src="/js/search.min.js?v=1.6.10" async></script><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>!function(){var t,e=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="页面崩了！",clearTimeout(t)):(document.title="(つェ⊂)咦!又好了!",t=setTimeout(function(){document.title=e},2e3))})}()</script></body></html><!-- rebuild by neat -->