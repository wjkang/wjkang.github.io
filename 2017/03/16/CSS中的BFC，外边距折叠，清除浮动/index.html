<!-- build time:Wed May 15 2019 16:06:15 GMT+0000 (Coordinated Universal Time) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><script>var _hmt=_hmt||[]</script><script async src="//hm.baidu.com/hm.js?d1a1593e59aa081f2f04170bf79d940a"></script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><meta charset="utf-8"><title>CSS中的BFC，外边距折叠，清除浮动 | 若邪</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#3F51B5"><meta name="keywords" content="BFC,外边距折叠,清除浮动"><meta name="description" content="BFC是什么？BFC（Block Formatting Context）直译为“块级格式化范围 ”。是 W3C CSS 2.1 规范中的一个概念，它决定了元素如何对其内容进行定位，以及与其他元素的关系和相互作用。当涉及到可视化布局的时候，Block Formatting Context提供了一个环境，HTML元素在这个环境中按照一定规则进行布局。一个环境中的元素不会影响到其它环境中的布局。BFC"><meta name="keywords" content="BFC,外边距折叠,清除浮动"><meta property="og:type" content="article"><meta property="og:title" content="CSS中的BFC，外边距折叠，清除浮动"><meta property="og:url" content="https://jaycewu.site/2017/03/16/CSS中的BFC，外边距折叠，清除浮动/index.html"><meta property="og:site_name" content="若邪"><meta property="og:description" content="BFC是什么？BFC（Block Formatting Context）直译为“块级格式化范围 ”。是 W3C CSS 2.1 规范中的一个概念，它决定了元素如何对其内容进行定位，以及与其他元素的关系和相互作用。当涉及到可视化布局的时候，Block Formatting Context提供了一个环境，HTML元素在这个环境中按照一定规则进行布局。一个环境中的元素不会影响到其它环境中的布局。BFC"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-622c3f6fc1d8b669.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-abe89b14510dc229.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-6050f96cc1f7c74d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-5f14985076b9a5a7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-86de3ce2fa4746f2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:image" content="http://upload-images.jianshu.io/upload_images/2125695-6527144ca5ae7997.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><meta property="og:updated_time" content="2019-05-15T16:05:35.704Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="CSS中的BFC，外边距折叠，清除浮动"><meta name="twitter:description" content="BFC是什么？BFC（Block Formatting Context）直译为“块级格式化范围 ”。是 W3C CSS 2.1 规范中的一个概念，它决定了元素如何对其内容进行定位，以及与其他元素的关系和相互作用。当涉及到可视化布局的时候，Block Formatting Context提供了一个环境，HTML元素在这个环境中按照一定规则进行布局。一个环境中的元素不会影响到其它环境中的布局。BFC"><meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/2125695-622c3f6fc1d8b669.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"><link rel="alternate" type="application/atom+xml" title="若邪" href="/atom.xml"><link rel="shortcut icon" href="/favicon.png"><link rel="stylesheet" href="/css/style.css?v=1.6.10"><script>window.lazyScripts=[]</script></head><body><div id="loading" class="active"></div><aside id="menu"><div class="inner flex-row-vertical"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off"><i class="icon icon-lg icon-close"></i></a><div class="brand-wrap" style="background-image:url(/img/brand.jpg)"><div class="brand"><a href="/" class="avatar waves-effect waves-circle waves-light"><img src="/img/avatar.jpeg"></a><hgroup class="introduce"><h5 class="nickname">若邪</h5><a href="mailto:ruoxieme@gmail.com" title="ruoxieme@gmail.com" class="mail">ruoxieme@gmail.com</a></hgroup></div></div><div class="scroll-wrap flex-col"><ul class="nav"><li class="waves-block waves-effect"><a href="/"><i class="icon icon-lg icon-home"></i> 主页</a></li><li class="waves-block waves-effect"><a href="/archives"><i class="icon icon-lg icon-archives"></i> 归档</a></li><li class="waves-block waves-effect"><a href="/tags"><i class="icon icon-lg icon-tags"></i> 标签</a></li><li class="waves-block waves-effect"><a href="/categories"><i class="icon icon-lg icon-th-list"></i> 分类</a></li><li class="waves-block waves-effect"><a href="https://jaycewu.gitee.io/resume" target="_blank"><i class="icon icon-lg icon-user"></i> 关于</a></li><li class="waves-block waves-effect"><a href="https://github.com/wjkang" target="_blank"><i class="icon icon-lg icon-github"></i> Github</a></li><li class="waves-block waves-effect"><a href="https://juejin.im/user/57bab5a45bbb500063fd28bc" target="_blank"><i class="icon icon-lg icon-dot-circle-o"></i> 掘金</a></li><li class="waves-block waves-effect"><a href="https://segmentfault.com/blog/ruoxie" target="_blank"><i class="icon icon-lg icon-trello"></i> segmentfault</a></li><li class="waves-block waves-effect"><a href="http://www.jianshu.com/u/1e9a94bda7fb" target="_blank"><i class="icon icon-lg icon-rebel"></i> 简书</a></li></ul></div></div></aside><main id="main"><header class="top-header" id="header"><div class="flex-row"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle"><i class="icon icon-lg icon-navicon"></i></a><div class="flex-col header-title ellipsis">CSS中的BFC，外边距折叠，清除浮动</div><div class="search-wrap" id="search-wrap"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back"><i class="icon icon-lg icon-chevron-left"></i> </a><input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search"><i class="icon icon-lg icon-search"></i></a></div><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare"><i class="icon icon-lg icon-share-alt"></i></a></div></header><header class="content-header post-header"><div class="container fade-scale"><h1 class="title">CSS中的BFC，外边距折叠，清除浮动</h1><h5 class="subtitle"><time datetime="2017-03-16T00:00:00.000Z" itemprop="datePublished" class="page-time">2017-03-16</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/前端/">前端</a></li></ul></h5></div></header><div class="container body-wrap"><aside class="post-widget"><nav class="post-toc-wrap" id="post-toc"><h4>TOC</h4><ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#BFC是什么？"><span class="post-toc-number">1.</span> <span class="post-toc-text">BFC是什么？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#BFC-的特征"><span class="post-toc-number">2.</span> <span class="post-toc-text">BFC 的特征</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#触发BFC"><span class="post-toc-number">3.</span> <span class="post-toc-text">触发BFC</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用场景"><span class="post-toc-number">4.</span> <span class="post-toc-text">使用场景</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1、外边距折叠问题"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">1、外边距折叠问题</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2、清除浮动"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">2、清除浮动</span></a></li></ol></li></ol></nav></aside><article id="post-CSS中的BFC，外边距折叠，清除浮动" class="post-article article-type-post fade" itemprop="blogPost"><div class="post-card"><h1 class="post-card-title">CSS中的BFC，外边距折叠，清除浮动</h1><div class="post-meta"><time class="post-time" title="2017-03-16 00:00:00" datetime="2017-03-16T00:00:00.000Z" itemprop="datePublished">2017-03-16</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/前端/">前端</a></li></ul><span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none"><i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span></span></div><div class="post-content" id="post-content" itemprop="postContent"><h3 id="BFC是什么？"><a href="#BFC是什么？" class="headerlink" title="BFC是什么？"></a>BFC是什么？</h3><p>BFC（Block Formatting Context）直译为“<strong><em>块级格式化范围</em></strong> ”。</p><blockquote><p>是 W3C CSS 2.1 规范中的一个概念，它决定了元素如何对其内容进行定位，以及与其他元素的关系和相互作用。当涉及到可视化布局的时候，Block Formatting Context提供了一个环境，HTML元素在这个环境中按照一定规则进行布局。一个环境中的元素不会影响到其它环境中的布局。</p></blockquote><h3 id="BFC-的特征"><a href="#BFC-的特征" class="headerlink" title="BFC 的特征"></a>BFC 的特征</h3><p>在BFC中，盒子从顶端开始垂直地一个接一个地排列，两个盒子之间的垂直的间隙是由他们的margin 值所决定的。在一个BFC中，两个相邻的块级盒子的垂直外边距会产生折叠。</p><p>在BFC中，每一个盒子的左外边缘（margin-left）会触碰到容器的左边缘(border-left)（对于从右到左的格式来说，则触碰到右边缘）。</p><p>BFC中的元素的布局是不受外界的影响（我们往往利用这个特性来消除浮动元素对其非浮动的兄弟元素和其子元素带来的影响。）并且在一个BFC中，块盒与行盒（行盒由一行中所有的内联元素所组成）都会垂直的沿着其父元素的边框排列。</p><p>计算BFC的高度时，浮动元素也参与计算（可用于解决浮动造成的高度塌陷问题）</p><p>BFC的区域不会与float box重叠(解决浮动元素文字环绕问题)</p><h3 id="触发BFC"><a href="#触发BFC" class="headerlink" title="触发BFC"></a>触发BFC</h3><ul><li>float 的值不为none</li><li>position 的值不为static或者relative</li><li>display的值为 table-cell, table-caption, inline-block, flex, 或者 inline-flex中的其中一个</li><li>overflow的值不为visible<br>满足上述条件中至少一项，即可触发 BFC</li></ul><h3 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h3><h4 id="1、外边距折叠问题"><a href="#1、外边距折叠问题" class="headerlink" title="1、外边距折叠问题"></a>1、外边距折叠问题</h4><p>折叠的条件：两个元素的 margin 必须是 相邻 的；两个 margin 是邻接的必须满足以下条件：</p><ul><li>必须是处于常规文档流（非float和绝对定位）的块级盒子,并且处于同一个 BFC 当中。</li><li>没有inline盒子，没有空隙，没有 padding 和 border 将他们分隔开。</li><li>都属于垂直方向上相邻的外边距。<br>如下：<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">clss</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"f-block"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"s-block"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.f-block</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>:silver;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.s-block</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>:silver;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-622c3f6fc1d8b669.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></div><div class="image-caption"></div></figure><p>解决方法：<br>破坏产生折叠的条件即可：<br>1、给元素添加浮动或者绝对定位（会影响整体布局，改动大）<br>2、将元素改为行内元素（会影响整体布局，改动大）<br>3、元素间插入一个高度大于0的div<br>4、使元素不在同一BFC中</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--元素间插入一个高度大于0的div--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"f-block"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"height:0.01px"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"s-block"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-abe89b14510dc229.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="元素间插入一个高度大于0的div"></div><div class="image-caption">元素间插入一个高度大于0的div</div></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"f-block"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"s-block"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>f-block,s-block以及s-block外层div已经还是处在相同BFC中，所以还是会产生外边距折叠。这里产生的折叠比较复杂：<br>首先是s-block和外层div的外边距折叠，然后是合并后的折叠外边距再与f-block产生外边距折叠。<br>下面解决父子元素的外边距折叠问题：</p><p><strong>给父元素添加padding 或 border（破坏外边距折叠条件）</strong></p><p></p><div class="f-block"></div><p></p><p></p><div style="background-color:red;border:1px solid #000"><br><div class="s-block"></div><br></div><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![](http://upload-images.jianshu.io/upload_images/2125695-d1892c0eba36f877.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**给父元素创建新的块级格式化上下文（创建了新的块级格式化上下文的块元素，不与它的子元素发生margin 折叠）**</span><br><span class="line">```xml</span><br><span class="line">&lt;div class=&quot;f-block&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div style=&quot;background-color:red;overflow:hidden&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;s-block&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p></p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-6050f96cc1f7c74d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></div><div class="image-caption"></div></figure><h4 id="2、清除浮动"><a href="#2、清除浮动" class="headerlink" title="2、清除浮动"></a>2、清除浮动</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">550px</span>;</span><br><span class="line">  <span class="attribute">border</span>:<span class="number">5px</span> solid red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">float</span>:left;</span><br><span class="line">  <span class="attribute">background-color</span>:silver;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于上面的代码，我们希望得到这样的结果：<br></p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-5f14985076b9a5a7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></div><div class="image-caption"></div></figure><p></p><p>但结果却是这样的：<br></p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-86de3ce2fa4746f2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></div><div class="image-caption"></div></figure><p></p><p>原因是因为浮动元素脱离文档流，container的高度无法被撑开。</p><p>清除浮动的方法及原理：</p><p><strong>clear属性</strong>：<br>clear属性的意义就是禁止特定方向上存在浮动元素，例如clear: left就是不允许元素左方存在文档流之前浮动元素（注意，这里左边如果存在文档流之后的浮动元素是无法清理的）<br>根据CSS权威指南，具体的实现原理是通过引入清除区域，这个相当于加了一块看不见的框把定义clear属性的元素向下挤，直到元素指定方向刚好没有浮动元素，这样看起来包含框就把浮动框给包含了，实际上浮动框脱离文本流的性质没变，它们依然是“浮”在上面的<br>用法：<br>1、容器内结尾处加空div标签 clear:both<br>2、容器定义伪类:after 和 zoom(IE8以上和非IE浏览器才支持:after，原理和方法2有点类似，zoom(IE转有属性)可解决ie6,ie7浮动问题)<br></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span><span class="selector-pseudo">:after</span>&#123;<span class="attribute">display</span>:block;<span class="attribute">clear</span>:both;<span class="attribute">content</span>:<span class="string">""</span>;<span class="attribute">visibility</span>:hidden;<span class="attribute">height</span>:<span class="number">0</span>&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;<span class="attribute">zoom</span>:<span class="number">1</span>&#125;</span><br></pre></td></tr></table></figure><p></p><p><strong>容器形成新BFC</strong>：<br>计算BFC的高度时，浮动元素也参与计算</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">550px</span>;</span><br><span class="line">  <span class="attribute">border</span>:<span class="number">5px</span> solid red;</span><br><span class="line">  <span class="attribute">overfow</span>:hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>或者使容器自身浮动也可以</p><p>消除浮动引起的文字环绕效果：<br></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"img"</span>&gt;</span>image<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"info"</span>&gt;</span>信息信息信息信息信息信息信息信息信息信息信息信信息信息信息信息信息信息信息信息信息信息信息信信息信息信息信息信息信息信息信息信息信息信息信信息信息信息信息信息信息信息信息信息信息信息信<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;<span class="attribute">width</span>:<span class="number">210px</span>;<span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;<span class="attribute">float</span>: left;&#125; </span><br><span class="line"><span class="selector-class">.img</span> &#123;<span class="attribute">width</span>: <span class="number">100px</span>;<span class="attribute">height</span>: <span class="number">100px</span>;<span class="attribute">background</span>: <span class="number">#696</span>;<span class="attribute">float</span>: left;&#125; </span><br><span class="line"><span class="selector-class">.info</span> &#123;<span class="attribute">background</span>: <span class="number">#ccc</span>;<span class="attribute">color</span>: <span class="number">#fff</span>;&#125;</span><br></pre></td></tr></table></figure><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://upload-images.jianshu.io/upload_images/2125695-6527144ca5ae7997.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></div><div class="image-caption"></div></figure><p>带有浮动属性的元素会脱离标准流进行排列布局，脱离标准流后的元素就不和块元素相处在同一个流不居中，使得带有浮动属性的元素漂浮在正常块元素上面。但是<strong>浮动的块虽然脱离了正常的文档流，但是依然占据正常文档流的文本空间</strong>。于是在其后面写的文本并不会被浮动元素所覆盖而是继续水平排列超出换行。<br>标准流中块元素每个各占一行。内联元素则是水平排列，直到一行排列不下进行换行操作。因为使用了float的元素占据文本空间，使得后面的文本以除了浮动元素之外的空间为排列基准，形成了文本环绕的效果。</p><p>清除环绕效果就是使info形成一个新的BFC（BFC的区域不会与float box重叠），添加overflow:hidden即可。<br>注意：给info绝对定位也会形成一个新的BFC，但是info会按照绝对定位的规则进行布局，会与img重叠。</p><p>参考文章<br><a href="http://www.w3cplus.com/css/understanding-bfc-and-margin-collapse.html" target="_blank" rel="noopener">深入理解BFC和Margin Collapse</a><br><a href="https://juejin.im/post/583bb606a22b9d006c141286" target="_blank" rel="noopener">细说CSS中的BFC</a></p></div><blockquote class="post-copyright"><div class="content"></div><footer><a href="https://jaycewu.site"><img src="/img/avatar.jpeg" alt="若邪"> 若邪</a></footer></blockquote><div class="post-footer"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BFC/">BFC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/外边距折叠/">外边距折叠</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/清除浮动/">清除浮动</a></li></ul><div class="page-share-wrap"><div class="page-share" id="pageShare"><ul class="reset share-icons"><li><a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://jaycewu.site/2017/03/16/CSS中的BFC，外边距折叠，清除浮动/&title=《CSS中的BFC，外边距折叠，清除浮动》 — 若邪&pic=https://jaycewu.site/img/avatar.jpeg" data-title="微博"><i class="icon icon-weibo"></i></a></li><li><a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"><i class="icon icon-weixin"></i></a></li><li><a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://jaycewu.site/2017/03/16/CSS中的BFC，外边距折叠，清除浮动/&title=《CSS中的BFC，外边距折叠，清除浮动》 — 若邪&source=" data-title=" QQ"><i class="icon icon-qq"></i></a></li><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jaycewu.site/2017/03/16/CSS中的BFC，外边距折叠，清除浮动/" data-title=" Facebook"><i class="icon icon-facebook"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《CSS中的BFC，外边距折叠，清除浮动》 — 若邪&url=https://jaycewu.site/2017/03/16/CSS中的BFC，外边距折叠，清除浮动/&via=https://jaycewu.site" data-title=" Twitter"><i class="icon icon-twitter"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://jaycewu.site/2017/03/16/CSS中的BFC，外边距折叠，清除浮动/" data-title=" Google+"><i class="icon icon-google-plus"></i></a></li></ul></div><a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle"><i class="icon icon-share-alt icon-lg"></i></a></div></div></div><nav class="post-nav flex-row flex-justify-between"><div class="waves-block waves-effect prev"><a href="/2017/03/28/CSS中line-height与vertical-align/" id="post-prev" class="post-nav-link"><div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div><h4 class="title">CSS中line-height与vertical-align</h4></a></div><div class="waves-block waves-effect next"><a href="/2017/03/04/一个商品SKU是怎么生成的/" id="post-next" class="post-nav-link"><div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div><h4 class="title">一个商品SKU是怎么生成的</h4></a></div></nav><section class="comments" id="comments"><div id="gitment_thread"></div><link rel="stylesheet" href="/css/gitalk.css?v=1.6.10"><script src="/js/gitalk.min.js?v=1.6.10"></script><script>var gitalk=new Gitalk({clientID:"f982ac953ab75a652b3a",clientSecret:"e2c4cd9eefa872763864a42f4944ce5ef200da4b",repo:"jaycewu.site",owner:"wjkang",admin:["wjkang"],distractionFreeMode:!0,createIssueManually:!0});gitalk.render("gitment_thread")</script></section></article></div><footer class="footer"><div class="top"><p><span id="busuanzi_container_site_uv" style="display:none">站点总访客数：<span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" style="display:none">站点总访问量：<span id="busuanzi_value_site_pv"></span></span></p><p><span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span> <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span></p></div><div class="bottom"><p><span>若邪 &copy; 2015 - 2019</span> <span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a> </span><span class="hosted" style="display:none">Hosted by <a href="https://coding.net" target="_blank">Coding Pages</a></span></p></div></footer></main><div class="mask" id="mask"></div><a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a><div class="global-share" id="globalShare"><ul class="reset share-icons"><li><a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://jaycewu.site/2017/03/16/CSS中的BFC，外边距折叠，清除浮动/&title=《CSS中的BFC，外边距折叠，清除浮动》 — 若邪&pic=https://jaycewu.site/img/avatar.jpeg" data-title="微博"><i class="icon icon-weibo"></i></a></li><li><a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"><i class="icon icon-weixin"></i></a></li><li><a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://jaycewu.site/2017/03/16/CSS中的BFC，外边距折叠，清除浮动/&title=《CSS中的BFC，外边距折叠，清除浮动》 — 若邪&source=" data-title=" QQ"><i class="icon icon-qq"></i></a></li><li><a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jaycewu.site/2017/03/16/CSS中的BFC，外边距折叠，清除浮动/" data-title=" Facebook"><i class="icon icon-facebook"></i></a></li><li><a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《CSS中的BFC，外边距折叠，清除浮动》 — 若邪&url=https://jaycewu.site/2017/03/16/CSS中的BFC，外边距折叠，清除浮动/&via=https://jaycewu.site" data-title=" Twitter"><i class="icon icon-twitter"></i></a></li><li><a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://jaycewu.site/2017/03/16/CSS中的BFC，外边距折叠，清除浮动/" data-title=" Google+"><i class="icon icon-google-plus"></i></a></li></ul></div><div class="page-modal wx-share" id="wxShare"><a class="close" href="javascript:;"><i class="icon icon-close"></i></a><p>扫一扫，分享到微信</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACuUlEQVR42u3aQWrDQAwF0N7/0il0VQh2vqRRk8LzqjiOPW8KliLp6ys+Hj/H85nf55/PPH/36vr781d3Pnbg4eHhtZZ+f7v7x1w9OL+yunGFLcDDw8Nb490vLn/pJ6/yPFTcX5lsKB4eHt57eXlanISB6nLx8PDw/jsvT3N7m5Kk1Hh4eHjv5fUWNynsni0BH6i14OHh4S10kT7n78X+Hh4eHt6gqz5phlULvpMwcLlaPDw8vAVe/rAc0ItOheXGAwd4eHh4G7w8APRKEsnikk+bbTA8PDy8BV7+yPubzhtdeWH3QCDBw8PDG/N6RYF5CXgefqKn4OHh4R3l5QtNYstkTKoXwcrxDQ8PD2+BN2+DHVhWvMUvPsXDw8Nb5iUv8VMBo9qjq7bBCpNieHh4eEVeXk7ttbgmza1emMHDw8Pb5k2KpOUEt9gem2w9Hh4e3jav1/7fHibolSQuG2B4eHh4a7z8B//ZMm6vfPwiTcfDw8Nb4M2T4OTT6qjWJEEvVFzw8PDwWrxeWpwnwfMyRy9E4eHh4W3zJgnufStrnrJPwgYeHh7eBi9v5CetsmpSno8aVNPxF78Y8PDw8Aa86nBVb3yqGn6qTa8XwQAPDw9vgVdNdqsV4mrLanI3PDw8vG1etQAxb+FXi7bJGpqjA3h4eHgtXvKFSWCoNtjyTYzO4+Hh4S3zesvKz+elhF5wGs2R4eHh4bWmmHoDUtXGfxI8JiWSy7Xh4eHhHeI9ike1TDAZI+il3ZczZXh4eHiHeNX+UTWEVMe2eol+L5zg4eHhTXi9n/2nwklvgwr/Hzw8PLw13saIVR4MTkWwqMqCh4eH94e8STOseodeoo+Hh4f3mbw8/a0m8Tm4MKSFh4eHt8bLixH5YEHe4qo2yQpjDXh4eHgLvEnyWm1TVdtp1VJv88DDw8NLed/VLJKXRdx4igAAAABJRU5ErkJggg==" alt="微信分享二维码"></div><script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script><script src="http://v2.uyan.cc/code/uyan.js?uid=false"></script><script>var BLOG={ROOT:"/",SHARE:!0,REWARD:!1};lazyScripts.push("//s95.cnzz.com/z_stat.php?id=1262842552&web_id=1262842552"),window.addEventListener("DOMContentLoaded",function(){location.href.indexOf("jaycewu.site")>-1&&(document.querySelector(".hosted").style.display="inline")})</script><script src="/js/main.min.js?v=1.6.10"></script><div class="search-panel" id="search-panel"><ul class="search-result" id="search-result"></ul></div><template id="search-tpl"><li class="item"><a href="{path}" class="waves-block waves-effect"><div class="title ellipsis" title="{title}">{title}</div><div class="flex-row flex-middle"><div class="tags ellipsis">{tags}</div><time class="flex-col time">{date}</time></div></a></li></template><script src="/js/search.min.js?v=1.6.10" async></script><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>!function(){var t,e=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="页面崩了！",clearTimeout(t)):(document.title="(つェ⊂)咦!又好了!",t=setTimeout(function(){document.title=e},2e3))})}()</script></body></html><!-- rebuild by neat -->